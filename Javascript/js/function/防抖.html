<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>防抖</title>
</head>

<style>
	* {
		padding: 0;
		margin: 0;
	}

	.scroll-box {
		width: 100%;
		height: 500px;
		background: blue;
		overflow: auto;
	}

	.scroll-item {
		height: 1000px;
		width: 100%;
	}
</style>

<body>
	<div class="scroll-box">
		<div class="scroll-item"></div>
	</div>
	<script>
		let throttle = function (func, delay) {
			let timer = null;
			return function () {
				if (!timer) {
					timer = setTimeout(() => {
						func.apply(this, arguments);
						// 或者直接 func()
						timer = null;
					}, delay);
				}
			};
		};

		// 处理函数
		function handle() {
			console.log(arguments)
			console.log(Math.random());
		}
		// 测试用例
		document.getElementsByClassName('scroll-box')[0].addEventListener("scroll", throttle(handle, 3000));
	</script>
</body>

</html>